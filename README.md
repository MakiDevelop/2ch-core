# 2ch-core

2ch-core 是 2ch.tw 的核心後端服務，負責匿名即時討論平台的主要業務邏輯與系統能力。本專案以 TypeScript 為產品主線，採用 Agent 架構，目標是在可快速上線的前提下，保留長期演進與拆分的彈性。

這不是範例專案，也不是技術展示用 repo，而是一個以「能活下來、能撐住、能持續改進」為前提所設計的產品核心。

---

## 專案定位

- 匿名即時討論平台的核心後端
- 高雜訊使用者輸入的防禦與正規化
- 即時互動（未來包含 WebSocket / SSE）
- 可演進的內容治理與防濫用機制

---

## 技術主線

核心語言

- TypeScript（主線）：所有同步請求路徑與核心邏輯皆以 TypeScript 實作
- Python（未來支線）：僅用於非同步、離線或批次任務，不進入同步請求路徑

基礎設施

- Runtime：Node.js
- 主資料庫：PostgreSQL
- 快取與即時狀態：Redis

---

## 架構概念

本專案採用 Agent-based 設計，每個 Agent 專注於單一責任，並透過明確介面協作。

- API Agent：處理 HTTP 介面與輸入正規化
- Domain Agent：承載業務規則與狀態轉移
- Persistence Agent：資料存取與交易控制
- Realtime Agent：即時推播與連線狀態
- Guard Agent：防濫用、限流與基礎治理

詳細設計請參考 AGENTS.md。

---

## 專案階段

- v0：單一服務、TypeScript-only，可實際上線
- v1：引入 Redis 強化即時性與保護機制
- v1.5：新增 Python Worker（非同步）
- v2：視流量與需求拆分為多服務

---

## 開發原則

1. 先完成，再優化
2. 架構為上線服務，不為炫技存在
3. 主請求路徑只允許一種語言與心智模型
4. 所有設計皆需能被替換與重構

---

## 狀態

目前為專案初始化階段，尚未提供對外服務。

---

## 授權

授權方式尚未決定，暫不開放使用或散佈。